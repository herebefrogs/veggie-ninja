<html><head><style>body {
    margin: 0;
    text-align: center;
  }</style></head><body><canvas></canvas><script>"use strict";!function(){function e(){K.drawImage(I,0,0,I.width,I.height,0,0,H.width,H.height)}function t(e){e.target.hidden&&h({gamepad:{index:j.index,connected:!1}}),B=!event.target.hidden,B&&(U=Date.now(),g())}function n(e){var t=r(e);e.x<=0?e.x=0:e.x+t.w>=Q&&(e.x=Q-t.w),e.y<=0?e.y=0:e.y>=F-t.h&&(e.y=F-t.h)}function a(){return{action:"idle",direction:"right",frame:0,lastFrame:0,moveDown:0,moveLeft:0,moveRight:0,moveUp:0,speed:100,type:"ninja",x:0,y:0}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eggplant",t=c(e,"move","left",0),n=0,a=0;switch(x(0,3)){case 0:n=x(0,Q-t.w);break;case 1:n=Q-t.w,a=x(0,F-t.h);break;case 2:n=x(0,Q-t.w),a=F-t.h;break;case 3:a=x(0,F-t.h)}return{action:"move",direction:"left",frame:0,lastFrame:0,moveDown:0,moveLeft:0,moveRight:0,moveUp:0,speed:60,type:e,x:n,y:a}}function o(e,t){(t||navigator.getGamepads())[e.gamepad.index]&&e.gamepad.connected?(console.log("connecting",e.gamepad),j=e.gamepad):h({gamepad:{index:e.gamepad.index,connected:!1}})}function h(e){j&&j.index===e.gamepad.index&&!e.gamepad.connected&&(console.log("disconnecting",j),j=void 0)}function r(e){var t=V[e.type][e.action][e.direction];return"move"===e.action?t[e.frame]:t}function c(e,t,n,a){return r({action:t,direction:n,frame:a,type:e})}function d(){addEventListener("resize",s),I.width=Q,I.height=F,s(),navigator.getGamepads||(f=function(){}),y(Z).then(function(e){Z=e}).then(v)}function w(e){32===e.which&&(O.attack=!0),37!==e.which&&65!==e.which&&81!==e.which||(O.moveLeft=-1),38!==e.which&&90!==e.which&&87!==e.which||(O.moveUp=-1),39!==e.which&&68!==e.which||(O.moveRight=1),40!==e.which&&83!==e.which||(O.moveDown=1)}function m(e){32===e.which&&(O.attack=!1),37!==e.which&&65!==e.which&&81!==e.which||(O.moveLeft=0),38!==e.which&&90!==e.which&&87!==e.which||(O.moveUp=0),39!==e.which&&68!==e.which||(O.moveRight=0),40!==e.which&&83!==e.which||(O.moveDown=0)}function v(){addEventListener("keydown",w),addEventListener("keyup",m),addEventListener("gamepadconnected",o),addEventListener("gamepaddisconnected",h),document.addEventListener("visibilitychange",t),O=a(),z=[O];var e=["eggplant","garlic","radish"][x(0,2)];z.push(i(e)),B=!0,U=Date.now(),g()}function y(e){return new Promise(function(t){var n=new Image;n.addEventListener("load",function(){t(n)}),n.src=e})}function g(){B&&(W=requestAnimationFrame(g),l(),N=Date.now(),q((N-U)/1e3),U=N)}function f(){var e=navigator.getGamepads();if(!j){var t=!0,n=!1,a=void 0;try{for(var i,h=e[Symbol.iterator]();!(t=(i=h.next()).done);t=!0){var r=i.value;if(r&&r.connected){o({gamepad:r},e);break}}}catch(e){n=!0,a=e}finally{try{!t&&h.return&&h.return()}finally{if(n)throw a}}}if(j){O.attack=j.buttons[P].pressed||j.buttons[k].pressed||j.buttons[C].pressed||j.buttons[S].pressed;var c=Math.round(100*j.axes[R])/100;c<=0?(O.moveLeft=c,O.moveRight=0):(O.moveLeft=0,O.moveRight=c);var d=Math.round(100*j.axes[G])/100;d<=0?(O.moveUp=d,O.moveDown=0):(O.moveUp=0,O.moveDown=d)}}function x(e,t){return Math.floor(Math.random()*(t+1-e)+e)}function l(){T.fillStyle="#FFFFFF",T.fillRect(0,0,I.width,I.height);var t=!0,n=!1,a=void 0;try{for(var i,o=z[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var h=i.value;u(h)}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}e()}function u(e){var t=r(e);T.drawImage(Z,t.x,t.y,t.w,t.h,e.x,e.y,t.w,t.h)}function s(){var e=Math.min(innerWidth/Q,innerHeight/F);H.width=Q*e,H.height=F*e,T.mozImageSmoothingEnabled=K.mozImageSmoothingEnabled=!1,T.msImageSmoothingEnabled=K.msImageSmoothingEnabled=!1,T.imageSmoothingEnabled=K.imageSmoothingEnabled=!1}function p(e){var t=e.moveLeft+e.moveRight,n=e.moveUp+e.moveDown;e.action=0===n&&0===t?"idle":e.attach?"attack":"move",e.direction=n<0?"up":n>0?"down":e.direction,e.direction=t<0?"left":t>0?"right":e.direction}function A(e,t){"idle"!==e.action&&(e.lastFrame+=t,e.lastFrame>L&&(e.lastFrame-=L,e.frame=(e.frame+1)%V[e.type][e.action][e.direction].length))}function E(e,t){var n=e.speed*t*(e.attack?D:1);e.x+=n*(e.moveLeft+e.moveRight),e.y+=n*(e.moveUp+e.moveDown)}function b(e,t){e.moveLeft=e.moveRight=e.moveUp=e.moveDown=0;var n=t.x-e.x,a=t.y-e.y,i=Math.sqrt(n*n+a*a);if(0!==i){var o=n/i,h=a/i;e[o>=0?"moveRight":"moveLeft"]=o,e[h>=0?"moveDown":"moveUp"]=h}}function q(e){f();var t=!0,a=!1,i=void 0;try{for(var o,h=z[Symbol.iterator]();!(t=(o=h.next()).done);t=!0){var r=o.value;r===O?p(r):0===r.frame&&b(r,O),A(r,e),E(r,e),n(r)}}catch(e){a=!0,i=e}finally{try{!t&&h.return&&h.return()}finally{if(a)throw i}}}document.title="Veggie Ninja";var D=3,L=.1,R=0,G=1,P=0,k=1,C=2,S=3,F=300,Q=400,V={eggplant:{move:{left:[{x:0,y:72,w:16,h:18},{x:16,y:72,w:16,h:18},{x:32,y:72,w:16,h:18},{x:48,y:72,w:16,h:18},{x:64,y:72,w:16,h:18}]}},garlic:{move:{left:[{x:0,y:108,w:16,h:18},{x:16,y:108,w:16,h:18},{x:32,y:108,w:16,h:18},{x:48,y:108,w:16,h:18},{x:64,y:108,w:16,h:18}]}},ninja:{attack:{left:[{x:16,y:0,w:16,h:18},{x:32,y:0,w:16,h:18},{x:48,y:0,w:16,h:18},{x:64,y:0,w:16,h:18}],down:[{x:16,y:18,w:16,h:18},{x:32,y:18,w:16,h:18},{x:48,y:18,w:16,h:18},{x:64,y:18,w:16,h:18}],right:[{x:16,y:36,w:16,h:18},{x:32,y:36,w:16,h:18},{x:48,y:36,w:16,h:18},{x:64,y:36,w:16,h:18}],up:[{x:16,y:54,w:16,h:18},{x:32,y:54,w:16,h:18},{x:48,y:54,w:16,h:18},{x:64,y:54,w:16,h:18}]},idle:{left:{x:0,y:0,w:16,h:18},down:{x:0,y:18,w:16,h:18},right:{x:0,y:36,w:16,h:18},up:{x:0,y:54,w:16,h:18}},move:{left:[{x:16,y:0,w:16,h:18},{x:32,y:0,w:16,h:18},{x:48,y:0,w:16,h:18},{x:64,y:0,w:16,h:18}],down:[{x:16,y:18,w:16,h:18},{x:32,y:18,w:16,h:18},{x:48,y:18,w:16,h:18},{x:64,y:18,w:16,h:18}],right:[{x:16,y:36,w:16,h:18},{x:32,y:36,w:16,h:18},{x:48,y:36,w:16,h:18},{x:64,y:36,w:16,h:18}],up:[{x:16,y:54,w:16,h:18},{x:32,y:54,w:16,h:18},{x:48,y:54,w:16,h:18},{x:64,y:54,w:16,h:18}]}},radish:{move:{left:[{x:0,y:90,w:16,h:18},{x:16,y:90,w:16,h:18},{x:32,y:90,w:16,h:18},{x:48,y:90,w:16,h:18},{x:64,y:90,w:16,h:18}]}}},H=document.querySelector("canvas"),K=H.getContext("2d"),I=document.createElement("canvas"),T=I.getContext("2d"),N=void 0,z=void 0,j=void 0,O=void 0,U=void 0,W=void 0,B=void 0,Z="data:image/png;base64,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";addEventListener("load",d)}();</script></body></html>