<html><head><style>body {
    margin: 0;
    text-align: center;
  }</style></head><body><canvas></canvas><script>"use strict";var _slicedToArray=function(){function e(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var r,h=e[Symbol.iterator]();!(a=(r=h.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&h.return&&h.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){function e(){S.drawImage(T,0,0,T.width,T.height,0,0,H.width,H.height)}function t(e){e.target.hidden&&_&&r({gamepad:{index:_.index,connected:!1}}),Y(!event.target.hidden)}function n(e){var t=h(e);e.x<=0?e.x=0:e.x+t.w>=z&&(e.x=z-t.w),e.y<=0?e.y=0:e.y>=I-t.h&&(e.y=I-t.h)}function a(){var e=c("ninja","idle","right");return{action:"idle",dead:!1,direction:"right",frame:0,lastFrame:0,lastDead:0,moveDown:0,moveLeft:0,moveRight:0,moveUp:0,speed:100,type:"ninja",x:(z-e.w)/2,y:(I-e.h)/2}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eggplant",t=c(e,"move","left",0),n=0,a=0;switch(l(0,3)){case 0:n=l(0,z-t.w);break;case 1:n=z-t.w,a=l(0,I-t.h);break;case 2:n=l(0,z-t.w),a=I-t.h;break;case 3:a=l(0,I-t.h)}return{action:"move",dead:!1,direction:"left",frame:0,lastFrame:0,lastDead:0,moveDown:0,moveLeft:0,moveRight:0,moveUp:0,speed:60,type:e,x:n,y:a}}function o(e,t){(t||navigator.getGamepads())[e.gamepad.index]&&e.gamepad.connected?(console.log("connecting",e.gamepad),_=e.gamepad):r({gamepad:{index:e.gamepad.index,connected:!1}})}function r(e){_&&_.index===e.gamepad.index&&!e.gamepad.connected&&(console.log("disconnecting",_),_=void 0)}function h(e){var t=Z[e.type][e.action][e.direction];return"idle"!==e.action?t[e.frame]:t}function c(e,t,n,a){return h({action:t,direction:n,frame:a,type:e})}function d(){addEventListener("resize",x),T.width=z,T.height=I,x(),navigator.getGamepads||(u=function(){}),m(ae).then(function(e){ae=e}).then(function(){return m(O)}).then(function(e){O=e}).then(w)}function v(e){32===e.which&&($.attack=!0),37!==e.which&&65!==e.which&&81!==e.which||($.moveLeft=-1),38!==e.which&&90!==e.which&&87!==e.which||($.moveUp=-1),39!==e.which&&68!==e.which||($.moveRight=1),40!==e.which&&83!==e.which||($.moveDown=1),80===e.which&&Y(!ne)}function y(e){32===e.which&&($.attack=!1),37!==e.which&&65!==e.which&&81!==e.which||($.moveLeft=0),38!==e.which&&90!==e.which&&87!==e.which||($.moveUp=0),39!==e.which&&68!==e.which||($.moveRight=0),40!==e.which&&83!==e.which||($.moveDown=0)}function w(){addEventListener("keydown",v),addEventListener("keyup",y),addEventListener("gamepadconnected",o),addEventListener("gamepaddisconnected",r),document.addEventListener("visibilitychange",t),$=a(),J=[$],X=[],ie=void 0,oe=0,k(),Y(!0)}function m(e){return new Promise(function(t){var n=new Image;n.addEventListener("load",function(){t(n)}),n.src=e})}function A(){ne&&(te=requestAnimationFrame(A),f(),N=Date.now(),B((N-ee)/1e3),ee=N)}function u(){var e=navigator.getGamepads();if(!_){var t=!0,n=!1,a=void 0;try{for(var i,r=e[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var h=i.value;if(h&&h.connected){o({gamepad:h},e);break}}}catch(e){n=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw a}}}if(_){$.attack=_.buttons[q].pressed||_.buttons[F].pressed||_.buttons[C].pressed||_.buttons[G].pressed;var c=Math.round(100*_.axes[V])/100;c<=0?($.moveLeft=c,$.moveRight=0):($.moveLeft=0,$.moveRight=c);var d=Math.round(100*_.axes[W])/100;d<=0?($.moveUp=d,$.moveDown=0):($.moveUp=0,$.moveDown=d)}}function l(e,t){return Math.floor(Math.random()*(t+1-e)+e)}function f(){M.fillStyle="#FFFFFF",M.fillRect(0,0,T.width,T.height);var t=!0,n=!1,a=void 0;try{for(var i,o=X[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var r=i.value;g(r)}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}var h=!0,c=!1,d=void 0;try{for(var v,y=J[Symbol.iterator]();!(h=(v=y.next()).done);h=!0){var w=v.value;g(w)}}catch(e){c=!0,d=e}finally{try{!h&&y.return&&y.return()}finally{if(c)throw d}}s("score:"+oe,j,j),e()}function g(e){var t=h(e);M.drawImage(ae,t.x,t.y,t.w,t.h,e.x,e.y,t.w,t.h)}function s(e,t,n){for(var a=0;a<e.length;a++)M.drawImage(O,K.indexOf(e[a])*j,0,j,j,t+a*(j+1),n,j,j)}function x(){var e=Math.min(innerWidth/z,innerHeight/I);H.width=z*e,H.height=I*e,M.mozImageSmoothingEnabled=S.mozImageSmoothingEnabled=!1,M.msImageSmoothingEnabled=S.msImageSmoothingEnabled=!1,M.imageSmoothingEnabled=S.imageSmoothingEnabled=!1}function p(e){var t=e.moveLeft+e.moveRight,n=e.moveUp+e.moveDown;e.action=0===n&&0===t?"idle":e.attack?"attack":"move",e.direction=n<0?"up":n>0?"down":e.direction,e.direction=t<0?"left":t>0?"right":e.direction}function L(e,t){"idle"!==e.action&&(e.lastFrame+=t,e.lastFrame>E&&(e.lastFrame-=E,e.frame=(e.frame+1)%Z[e.type][e.action][e.direction].length))}function b(e,t){if(!e.dead){var n=e.speed*t*(e.attack?R:1);e.x+=n*(e.moveLeft+e.moveRight),e.y+=n*(e.moveUp+e.moveDown)}}function Q(e,t){e.moveLeft=e.moveRight=e.moveUp=e.moveDown=0;var n=t.x-e.x,a=t.y-e.y,i=Math.sqrt(n*n+a*a);if(0!==i){var o=n/i,r=a/i;e[o>=0?"moveRight":"moveLeft"]=o,e[r>=0?"moveDown":"moveUp"]=r}}function k(){var e=["eggplant","garlic","radish"][l(0,2)];J.push(i(e))}function Y(e){ne=e,ne?(ee=Date.now(),A()):cancelAnimationFrame(te)}function D(){removeEventListener("keydown",v),removeEventListener("keyup",y),removeEventListener("gamepadconnected",o),removeEventListener("gamepaddisconnected",r),document.removeEventListener("visibilitychange",t),Y(!1)}function B(e){u();var t=h($),a=!0,i=!1,o=void 0;try{for(var r,c=J[Symbol.iterator]();!(a=(r=c.next()).done);a=!0){var d=r.value;if(d!==$&&!d.dead){var v=h(d);$.x<d.x+v.w&&$.x+t.w>d.x&&$.y<d.y+v.h&&$.y+t.h>d.y&&($.attack?(d.action="dead",d.dead=!0,d.frame=0):($.action="dead",$.dead=!0,$.frame=0))}}}catch(e){i=!0,o=e}finally{try{!a&&c.return&&c.return()}finally{if(i)throw o}}var y=!0,m=!1,A=void 0;try{for(var l,f=J.entries()[Symbol.iterator]();!(y=(l=f.next()).done);y=!0){var g=_slicedToArray(l.value,2),s=g[0],x=g[1];x.dead?P(x,s):(x===$?p(x):0===x.frame&&Q(x,$),L(x,e),b(x,e),n(x))}}catch(e){m=!0,A=e}finally{try{!y&&f.return&&f.return()}finally{if(m)throw A}}!ie&&$.dead&&(ie=setTimeout(function(){D(),w()},U))}function P(e,t){J.splice(t,1),X.push(e),e!==$&&(oe+=1,console.log("veggies sliced:",oe),k())}document.title="Veggie Ninja";var R=3,E=.1,U=2e3,V=0,W=1,q=0,F=1,C=2,G=3,I=300,z=400,j=8,Z={eggplant:{dead:{left:[{x:64,y:144,w:16,h:18}]},move:{left:[{x:0,y:72,w:16,h:18},{x:16,y:72,w:16,h:18},{x:32,y:72,w:16,h:18},{x:48,y:72,w:16,h:18},{x:64,y:72,w:16,h:18}]}},garlic:{dead:{left:[{x:64,y:144,w:16,h:18}]},move:{left:[{x:0,y:108,w:16,h:18},{x:16,y:108,w:16,h:18},{x:32,y:108,w:16,h:18},{x:48,y:108,w:16,h:18},{x:64,y:108,w:16,h:18}]}},ninja:{attack:{left:[{x:16,y:0,w:16,h:18},{x:32,y:0,w:16,h:18},{x:48,y:0,w:16,h:18},{x:64,y:0,w:16,h:18}],down:[{x:16,y:18,w:16,h:18},{x:32,y:18,w:16,h:18},{x:48,y:18,w:16,h:18},{x:64,y:18,w:16,h:18}],right:[{x:16,y:36,w:16,h:18},{x:32,y:36,w:16,h:18},{x:48,y:36,w:16,h:18},{x:64,y:36,w:16,h:18}],up:[{x:16,y:54,w:16,h:18},{x:32,y:54,w:16,h:18},{x:48,y:54,w:16,h:18},{x:64,y:54,w:16,h:18}]},dead:{left:[{x:64,y:144,w:16,h:18}],down:[{x:64,y:144,w:16,h:18}],right:[{x:64,y:144,w:16,h:18}],up:[{x:64,y:144,w:16,h:18}]},idle:{left:{x:0,y:0,w:16,h:18},down:{x:0,y:18,w:16,h:18},right:{x:0,y:36,w:16,h:18},up:{x:0,y:54,w:16,h:18}},move:{left:[{x:16,y:0,w:16,h:18},{x:32,y:0,w:16,h:18},{x:48,y:0,w:16,h:18},{x:64,y:0,w:16,h:18}],down:[{x:16,y:18,w:16,h:18},{x:32,y:18,w:16,h:18},{x:48,y:18,w:16,h:18},{x:64,y:18,w:16,h:18}],right:[{x:16,y:36,w:16,h:18},{x:32,y:36,w:16,h:18},{x:48,y:36,w:16,h:18},{x:64,y:36,w:16,h:18}],up:[{x:16,y:54,w:16,h:18},{x:32,y:54,w:16,h:18},{x:48,y:54,w:16,h:18},{x:64,y:54,w:16,h:18}]}},radish:{dead:{left:[{x:64,y:144,w:16,h:18}]},move:{left:[{x:0,y:90,w:16,h:18},{x:16,y:90,w:16,h:18},{x:32,y:90,w:16,h:18},{x:48,y:90,w:16,h:18},{x:64,y:90,w:16,h:18}]}}},K="abcdefghijklmnopqrstuvwxyz0123456789:!-%",H=document.querySelector("canvas"),S=H.getContext("2d"),T=document.createElement("canvas"),M=T.getContext("2d"),O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAAICAYAAACI7CYfAAAB50lEQVR42uVaXYvDMAwL3Nve7v//2I3BDbYSf0iWkxwr7EYvc+rKtqqkHr+3nzv7GX+HN87aIj5kx1TXZP25+oH6MrOx5snExvOjan/iJ3tPijkz+FR8yfiK5CKLBXv/Azwq9m79PP9Yx+tHHePvAVp1/ehccf1o/hkBZu1n5xaGEb7XhFDbd8Rn9zmCkQpfZDybG9FvMrFV3T9CYozty87Ca6AJ2k0Q7///RgJU4Pdfx3cQ2C57RABEdeLlBlNfVwWpjF9UCxa5eQSYUcAm0XcE0ANYUcDW/BYQmSfYbJ4ZwAqCrBDgyQqqu4AY+0yOovkRqSe0frIEx/ifmSNLwFb+I/haRBYpvIgAI4Vp1uFqBdCpABmCigiQnd8rEI/Ar9+nKpiIIJAHlSK/LBwVSzQrhoiCY1UYS5Bs/LMkYtUHkz8ZBeiNM/GjFIhiCdmpAJk9tNVbABV8lNfP7DEplnDRE7y6x1TFv+rf6i0WpA4U+afAx6tjlQL0lsDeQ3vsCmAlgU9I0OoSiCXAyksQ70101x4Xu4TpIEALv5MJmsG3qnAV8UP8qxIg+vLkY4VQaQPY2QaDboJW2hzQ1/8r2zjQNoZsm0GltYJpg6i0WVTi390G0p0LUZuNqk2le7yyBM62z8zmeQBASn4xTWPLigAAAABJRU5ErkJggg==",N=void 0,J=void 0,X=void 0,_=void 0,$=void 0,ee=void 0,te=void 0,ne=void 0,ae="data:image/png;base64,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",ie=void 0,oe=void 0;addEventListener("load",d)}();</script></body></html>